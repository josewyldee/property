{% extends 'base.html' %} {% load static %} {% load static %} {% block title %} {{unit.unit_name}} {% endblock title %}
{% block modal %}
<div aria-hidden="true" data-backdrop="static" data-tab="sub_modal"
	class="onboarding-modal modal fade animated sub_modal" style="z-index: 1060 !important" id="edit_photos_modal"
	role="dialog" tabindex="-1">
	<div class="modal-dialog modal-centered" role="document">
		<form method="POST" id="edit_photos_form">
			<div class="modal-content">
				<button aria-label="Close" class="close" data-dismiss="modal" type="button">
					<span class="close-label">Close</span><span class="os-icon os-icon-close"></span>
				</button>
				<div class="onboarding-slider-w sub_modal">
					<div class="onboarding-slide">
						<div class="onboarding-content with-gradient">
							<h4 class="onboarding-title display-10 fancy_text4 lead text-left">Photos</h4>
							<hr />
							<input type="hidden" id="edit_photos_id" name="id" />
							<div class="row">
								<div class="col-sm-12">
									<div class="form-group">
										<label class="control-label">Name</label>
										<input class="form-control editable" type="text" placeholder="Example:Kitchen"
											name="name" id="edit_photo_name" />
									</div>
								</div>
							</div>



							<div class="div_upload_file mt-4">
								<label for="" style="font-size:15px"
									class='text-center col-sm-12  fancy_text3 text-black '>
									<span class='fancy_text4 text-primary font-w600'>Select a file to upload </span>
								</label>
								<input type="file" name='photo'
									class="form-control-file btn-rounded btn btn-outline-primary px-5 py-2" id="photo">
							</div>


						</div>
						<br /><br /><br />
					</div>

					<div class="onboarding-slide">
						<div class="onboarding-content with-gradient">
							<input type="hidden" name="property_create_number" id="property_create_number_photos" />
							<input type="hidden" name="unit_create_numbers" id="unit_create_numbers_photos" />
							<input type="hidden" name="action" id="photo_update_add" />
							<input type="hidden" value="add" id="photo_action_type" />
							<input type="hidden" name="created_at" id="created_at_photos" />
							<input type="hidden" id="photos_right_now" />
							<input type="hidden" name="id_list" id="id_list_photo" />
							<h4 class="onboarding-title lead display-8 text-center">Are you done?</h4>
							<div class="form-buttons-w d-flex flex-row justify-content-end">
								<button class="btn btn-primary px-4 py-2" id="submit_edit_photo" type="submit">Upload
									records</button>
							</div>
						</div>
					</div>
				</div>
			</div>
		</form>
	</div>
</div>

<div aria-hidden="true" data-backdrop="static" data-tab="sub_modal"
	class="onboarding-modal modal fade animated sub_modal" style="z-index: 1060 !important" id="edit_features_modal"
	role="dialog" tabindex="-1">
	<div class="modal-dialog modal-centered" role="document">
		<form method="POST" id="edit_features_form">
			<div class="modal-content">
				<button aria-label="Close" class="close" data-dismiss="modal" type="button">
					<span class="close-label">Close</span><span class="os-icon os-icon-close"></span>
				</button>
				<div class="onboarding-slider-w sub_modal">
					<div class="onboarding-slide">
						<div class="onboarding-content with-gradient">
							<h4 class="onboarding-title display-10 fancy_text4 lead text-left">Features</h4>
							<hr />
							<input type="hidden" id="edit_features_id" name="id" />

							<div class="row">
								<div class="col-sm-12">
									<div class="form-group">
										<label class="control-label">Feature name</label>
										<input class="form-control editable" type="text" placeholder="Example:Pool"
											name="name" id="edit_feature_name" />
									</div>
								</div>
							</div>
						</div>
						<br /><br /><br />
					</div>

					<div class="onboarding-slide">
						<div class="onboarding-content with-gradient">
							<input type="hidden" name="property_create_number" id="property_create_number_features" />
							<input type="hidden" name="unit_create_numbers" id="unit_create_numbers_features" />
							<input type="hidden" name="action" id="feature_update_add" />
							<input type="hidden" value="add" id="feature_action_type" />
							<input type="hidden" name="created_at" id="created_at_features" />
							<input type="hidden" id="features_right_now" />
							<input type="hidden" name="id_list" id="id_list_feature" />
							<h4 class="onboarding-title lead display-8 text-center">Are you done?</h4>
							<div class="form-buttons-w d-flex flex-row justify-content-end">
								<button class="btn btn-primary px-4 py-2" id="submit_edit_feature" type="submit">Upload
									records</button>
							</div>
						</div>
					</div>
				</div>
			</div>
		</form>
	</div>
</div>

<div aria-hidden="true" data-backdrop="static" data-tab="sub_modal"
	class="onboarding-modal modal fade animated sub_modal" style="z-index: 1060 !important" id="edit_charges_modal"
	role="dialog" tabindex="-1">
	<div class="modal-dialog modal-centered" role="document">
		<form method="POST" id="edit_charges_form">
			<div class="modal-content">
				<button aria-label="Close" class="close" data-dismiss="modal" type="button">
					<span class="close-label">Close</span><span class="os-icon os-icon-close"></span>
				</button>
				<div class="onboarding-slider-w sub_modal">
					<div class="onboarding-slide">
						<div class="onboarding-media"><img alt="" src="<?php echo base_url(); ?>/img/images/keys.webp"
								width="105px" /></div>
						<div class="onboarding-content with-gradient">
							<h4 class="onboarding-title display-10 text-center fancy_text5">Rent and other charges</h4>
							<!-- <h4 class="onboarding-title display-8 text-center general_charges_title fancy_text3">Charges by the building</h4> -->
							<hr />
							<!-- <div class="font-desc text-secondary1 display-7sm fancy_text3 text-center general_charges_desc" style="line-height:28px;color:#797D7F ;">Please wait</div> -->
						</div>
					</div>
					<div class="onboarding-slide">
						<div class="onboarding-content with-gradient">
							<h4 class="onboarding-title display-8 fancy_text4 lead text-left">Let's begin</h4>
							<hr />
							<input type="hidden" id="edit_payments_id" name="id" />
							<div class="row">
								<div class="col-sm-12">
									<div class="form-group required">
										<label class="control-label">Charge name</label>
										<select class="form-control payments_category" required="required"
											name="category" id="edit_payments_category">
											<option value="rent">Rent</option>
											<option value="water">Water</option>
											<option value="service charge">service charge</option>
											<option value="custom">custom</option>
										</select>
									</div>
								</div>
							</div>
							<div class="row">
								<div class="col-sm-12 d-none charge_name">
									<div class="form-group">
										<label class="control-label">Custom charge</label>
										<input class="form-control editable" type="text"
											placeholder="Example:pet Deposit" name="name" id="edit_payments_name" />
									</div>
								</div>
							</div>
						</div>
						<br /><br /><br />
					</div>
					<div class="onboarding-slide">
						<div class="onboarding-content with-gradient">
							<h4 class="onboarding-title display-8 fancy_text4 lead text-left">Invoicing</h4>
							<hr />

							<div class="row">
								<div class="col-sm-12">
									<div class="form-group required">
										<label class="control-label amount_description">Amount</label>
										<input class="form-control editable" type="text" placeholder="Example: 7000"
											name="amount" id="edit_payments_amount" />
									</div>
								</div>
							</div>
							<div class="row">
								<div class="col-sm-12">
									<div class="form-group required">
										<label class="control-label">When will this be invoiced?</label>
										<select class="form-control payments_duration" required="required"
											name="duration" id="edit_payments_duration">
											<option value="once">Just once</option>
											<option value="weekly">Weekly</option>
											<option selected value="monthly">Monthly</option>
											<option value="annually">Annually</option>
										</select>
									</div>
								</div>
							</div>
							<div class="row">
								<div class="col-sm-12">
									<div class="form-group required d-none display_date display_">
										<label for=""> Date</label>
										<div class="date-input">
											<input autocomplete="off"
												class="ahead_date form-control payments_once editable"
												placeholder="Select date" type="text" name="once_date"
												id="edit_payments_once" />
										</div>
									</div>
								</div>
							</div>
							<div class="row">
								<div class="col-sm-12">
									<div class="form-group required d-none display_week display_">
										<label class="control-label">Day of the week</label>
										<div class="date-input">
											<select class="form-control payments_week" name="week_date"
												id="edit_payments_week">
												<option value="Sunday">Sunday</option>
												<option value="Monday">Monday</option>
												<option value="Tuesday">Tuesday</option>
												<option value="Wednesday">Wednesday</option>
												<option value="Thursday">Thursday</option>
												<option value="Friday">Friday</option>
												<option value="Saturday">Saturday</option>
											</select>
										</div>
									</div>
								</div>
							</div>
							<div class="row">
								<div class="col-sm-12">
									<div class="form-group required d-none display_month display_">
										<label for=""> Day of the month</label>
										<div class="date-input">
											<input autocomplete="off"
												class="month_date form-control payments_month editable"
												placeholder="Select day of the month" type="text" name="month_date"
												id="edit_payments_month" />
										</div>
									</div>
								</div>
							</div>
							<div class="row">
								<div class="col-sm-12">
									<div class="form-group required d-none display_year display_">
										<label for=""> Month and day</label>
										<div class="date-input">
											<input autocomplete="off"
												class="month_day_date form-control payments_year editable"
												placeholder="Select the month and day" type="text" name="year_date"
												id="edit_payments_year" />
										</div>
									</div>
								</div>
							</div>
						</div>
						<br />
					</div>
					<div class="onboarding-slide">
						<div class="onboarding-content with-gradient">
							<h4 class="onboarding-title display-8 fancy_text4 lead text-left">Communication</h4>
							<hr />
							<div class="row">
								<div class="col-sm-12">
									<div class="form-group required">
										<label class="control-label">How do you want to notify the tenant?</label>
										<select class="form-control" required="required" name="notify"
											id="edit_payments_communication">
											{% comment %} <option value="sms">SMS</option> {% endcomment %}
											<option value="email">Email (with a digital invoice)</option>
											{% comment %} <option selected value="both">Both email and SMS</option>
											{% endcomment %}
											<option value="none">No notification</option>
										</select>
									</div>
								</div>
							</div>
							<br /><br /><br />
						</div>
						<br />
					</div>
					<div class="onboarding-slide">
						<div class="onboarding-content with-gradient">
							<input type="hidden" name="property_create_number" id="property_create_number" />
							<input type="hidden" name="unit_create_numbers" id="unit_create_numbers" />
							<input type="hidden" name="action" id="charge_update_add" />
							<input type="hidden" value="add" id="charge_action_type" />
							<input type="hidden" name="created_at" id="created_at" />
							<input type="hidden" id="charges_right_now" />
							<input type="hidden" name="id_list" id="id_list" />
							<h4 class="onboarding-title lead display-8 text-center">Are you done?</h4>
							<div class="form-buttons-w d-flex flex-row justify-content-end">
								<button class="btn btn-primary px-4 py-2" id="submit_edit_charge" type="submit">Upload
									records</button>
							</div>
						</div>
					</div>
				</div>
			</div>
		</form>
	</div>
</div>

<div aria-hidden="true" data-backdrop="static" class="onboarding-modal modal fade animated" id="edit_unit_modal"
	role="dialog" tabindex="-1">
	<div class="modal-dialog modal-centered modal-lg" role="document">
		<div class="modal-content">
			<button aria-label="Close" class="close" data-dismiss="modal" type="button">
				<span class="close-label">Close</span><span class="os-icon os-icon-close"></span>
			</button>
			<form method="POST" id="edit_unit_form">
				<div class="onboarding-slider-w">
					<div class="onboarding-slide">
						<div class="onboarding-content with-gradient">
							<h4 class="onboarding-title display-8 fancy_text5 text-left mb-0 edit_form_title">About the
								units you've added</h4>
							<hr />
							<div class="row ">
								<div class="col-sm-6">
									<div class="form-group">
										<label for="">Unit name</label>
										<input class="form-control editable" placeholder="Example: house A" type="text"
											name="unit_name" id="unit_name">
									</div>
								</div>
							</div>

							<div class="row">
								<div class="col-sm-6">
									<div class="form-group">
										<label for="">Select the unit category</label>
										<select class="form-control" name="unit_category" id="unit_category">
											<option selected="" value="Residential">Residential</option>
											<option value="Commercial">Commercial</option>
										</select>
									</div>
								</div>
								<div class="col-sm-6">
									<div class="form-group">
										<label for="">Unit type</label>
										<select class="form-control selectpicker" data-dropup-auto="false"
											name="unit_type" data-live-search="true" data-size="4" id="unit_type">
											<optgroup label="Residential">
												<option class="residential" value="studio">Studio/bedsitters</option>
												<option class="residential" value="single rooms">Single rooms</option>
												<option class="residential" value="one-bedroom">One-bedroom</option>
												<option class="residential" value="two-bedroom">Two-bed room</option>
												<option class="residential" value="three-bedroom">Three-bed room
												</option>
												<option class="residential" value="four-bedroom">Four-bed room
													apartments</option>
												<option class="residential" value="five-bedroom">Five-bed room
													apartments</option>
												<option class="residential" value="six-bedroom">Six-bed room apartments
												</option>
												<option class="residential" value="seven-bedroom">Seven-bed room
													apartments</option>
												<option class="residential" value="other">Other</option>
											</optgroup>
											<optgroup label="Commercial">
												<option class="commercial" value="shops">Shops</option>
												<option class="commercial" value="stalls">Stalls</option>
												<option class="commercial" value="rooms">Rooms</option>
												<option class="commercial" value="spaces(sections of a floor)">
													Spaces(sections of a floor)</option>
												<option class="commercial" value="floor(an entire floor)">Floor(an
													entire floor)</option>
												<option class="commercial" value="Parking space">Parking space</option>
											</optgroup>
										</select>
									</div>
								</div>
							</div>
							<div class="row">
								<div class="col-sm-6">
									<div class="form-group">
										<label for="">Unit size (sqft)</label>
										<input class="form-control editable" placeholder="Example: 5600" type="number"
											name="size" id="size" />
									</div>
								</div>
								<div class="col-sm-6">
									<div class="form-group">
										<label for="">Are the units furnished?</label>
										<select class="form-control" name="is_furnished" id="is_furnished">
											<option value="yes">Yes</option>
											<option value="no">No</option>
										</select>
									</div>
								</div>
							</div>
							<div class="row">
								<div class="col-sm-12">
									<div class="form-group">
										<label for="">Bathrooms</label>
										<select class="form-control" name="baths" id="baths">
											<option value="communal">communal</option>
											<option value="1">1</option>
											<option value="1.5">1.5</option>
											<option value="2">2</option>
											<option value="2.5">2.5</option>
											<option value="3">3</option>
											<option value="3.5">3.5</option>
											<option value="4">4</option>
											<option value="4.5">4.5</option>
											<option value="5">5+</option>
										</select>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="onboarding-slide">
						<div class="onboarding-content with-gradient">
							<h4 class="onboarding-title display-7 fancy_text4 text-left mb-0">Unit description</h4>
							<hr />
							<div class="row">
								<div class="col-sm-12">
									<div class="form-group">
										<label class="control-label">Description</label><textarea
											class="form-control editable"
											placeholder="Example: Freshly painted home with new appliances and carpeting. Easy walking to public transit and a great neighborhood."
											rows="4" id="description" name="description"></textarea>
									</div>
								</div>
							</div>
						</div>
					</div>

					<div class="onboarding-slide">
						<div class="onboarding-content with-gradient">
							{% comment %} <input type="hidden" id="unit_id" name="id" /> {% endcomment %}
							<input type="hidden" class="details_based_on" name="details_based_on" />
							<input type="hidden" class="details_based_id" name="details_based_id" />
							<input type="hidden" id="details_based_unit_list" name="unit_list" />
							<h4 class="onboarding-title lead display-8 text-center">Are you done?</h4>
							<div class="form-buttons-w d-flex flex-row justify-content-end">
								<button class="btn btn-primary px-5 py-3" type="buttom" id="submit_edit_details">Click
									to upload</button>
							</div>
						</div>
					</div>
				</div>
			</form>
		</div>
	</div>
</div>
{% endblock modal %} {% block content %}
<style>
	.card-body .form-control {
		background-color: #f5f1f1 !important;
	}
</style>

<div class="content-body">
	<!-- row -->
	<div class="container-fluid">

		<div class="row">
			<div class="col-12">
				<div class="card ">
					<div class="card-header d-block mx-3 text-center">
						<h5 class="card-titles display-4 custom-card-title "><span
								class="unit_name_title">{{unit.unit_name}}
						</h5>
					</div>
				</div>
			</div>

		</div>

		<div class="row">
			<div class="col-xl-12">

				<ul class="nav nav-pills justify-content-around review-tab mb-f4">

					<li class="nav-item">
						<a href="#navpills-1" class="nav-link active unit_name_title" data-toggle="tab"
							aria-expanded="false">About
							the unit </a>
					</li>
					{% if unit.occupancy_status == "vacant" or unit.occupancy_status == "occupied" %}
					<li class="nav-item">
						<a href="#navpills-2" class="nav-link fancy_text4" data-toggle="tab"
							aria-expanded="false">Rental
							charges</a>
					</li>
					{% endif %}


					<li class="nav-item">
						<a href="#navpills-3" class="nav-link fancy_text4" data-toggle="tab"
							aria-expanded="false">Features </a>
					</li>
					<li class="nav-item">
						<a href="#navpills-4" class="nav-link fancy_text4" data-toggle="tab"
							aria-expanded="false">Photos </a>
					</li>
					<li class="nav-item">
						<a href="#navpills-5" class="nav-link fancy_text4" data-toggle="tab"
							aria-expanded="false">Maintenance
							records </a>
					</li>
					{% comment %}
					<li class="nav-item">
						<a href="#navpills-6" class="nav-link" data-toggle="tab" aria-expanded="false">Lease </a>
					</li>
					{% endcomment %}
				</ul>
				{% comment %}
				<ul class="nav nav-pills review-tab bg-danger">
					<li class="nav-item">
						<a href="#navpills-1" class="nav-link active" data-toggle="tab" aria-expanded="false">About
							{{unit.property_name}} </a>
					</li>
					<li class="nav-item">
						<a href="#navpills-2" class="nav-link" data-toggle="tab" aria-expanded="false">Units</a>
					</li>
				</ul>
				{% endcomment %}
				<div class="tab-content pt-4 bg-white">
					<div id="navpills-1" class="tab-pane active">
						<div class="card col-12">
							<div class="card-body">
								<div class="row mb-2">
									<div class="d-flex justify-content-between mb-5">
										<button
											class="btn btn-primary justify-content-end px-5 py-2 mr-sm-4 text-white edit_units_button"
											id="{{unit.id}}" type="button">
											<span>Click to edit</span>
										</button>
									</div>
								</div>

								<div class="row">
									<div class="col-sm-6">
										<div class="form-group">
											<label for="">Name</label>
											<input class="form-control property_type property_category" readonly=""
												value="{{unit.unit_name}}" placeholder="Example: Pest control"
												type="text" id="unit_name_id" />
										</div>
									</div>
								</div>
								<div class="row">
									<div class="col-sm-6">
										<div class="form-group">
											<label for="">Current status</label>
											<input class="form-control property_type property_category" readonly=""
												value="{{unit.occupancy_status}}" placeholder="Example: Pest control"
												type="text" id="unit_name_id" />
										</div>
									</div>
								</div>

								<div class="row">
									<div class="col-sm-6">
										<div class="form-group">
											<label for="">Category</label>
											<input class="form-control property_property_title"
												value="{{unit.unit_category}}" readonly=""
												placeholder="Example: Mariga Waithera" type="text"
												id="unit_category_id" />
										</div>
									</div>
									<div class="col-sm-6">
										<div class="form-group">
											<label for="">Type</label>
											<input class="form-control property_property_title" readonly=""
												value="{{unit.unit_type}}" placeholder="Example: house A" type="text"
												id="unit_type_id" />
										</div>
									</div>
								</div>
								<div class="row">
									<div class="col-sm-6">
										<div class="form-group">
											<label for="">Unit size (sqft)</label>
											<input class="form-control" readonly="" placeholder="Example: Kenya"
												value="{{unit.size}}" type="text" id="size_id" />
										</div>
									</div>
									<div class="col-sm-6">
										<div class="form-group">
											<label for="">Furnished</label>
											<input class="form-control" readonly="" placeholder="Example: Kenya"
												value="{{unit.is_furnished}}" type="text" id="is_furnished_id" />
										</div>
									</div>
								</div>
								<div class="row">
									<div class="col-12">
										<div class="form-group">
											<label for="">bathrooms</label>
											<input class="form-control" readonly="" placeholder="Example: Kenya"
												value="{{unit.baths}} baths" type="text" id="baths_id" />
										</div>
									</div>
								</div>
								<div class="row">
									<div class="col-sm-12">
										<div class="form-group">
											<label> description</label>
											<textarea readonly="" class="form-control text-left" rows="4"
												id="description_id">{{unit.description}}
											</textarea>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div id="navpills-2" class="tab-pane">
						<div class="card">
							{% comment %} <div class="card-header">
								<h4 class="card-title">Rental charges</h4>
							</div> {% endcomment %}
							<div class="card-body mx-4">
								<div class="table-responsive recentOrderTable">
									{% comment %} <div class="row mb-2">
										<div class="d-flex justify-content-between mb-5">
											<button
												class="btn btn-primary justify-content-end px-5 py-2 mr-sm-4 text-white add_charges_button"
												type="button">
												<span>Click to add</span>
											</button>
										</div>
									</div> {% endcomment %}
									<div class="row mb-4 mx-3  d-flex justify-content-end">
										<button class="btn btn-primary  py-2 px-5 btn-rounded add_charges_button"
											type="button"><span>Click to
												add</span></button>
									</div>

									<div class="table-responsive dataTables_scroll" style="cursor: pointer">
										<table id="edit_charges_table"
											class="table display responsive table-heading dataTable"
											data-turbolinks="false" style="width: 100%">
											<thead>
												<tr>
													<th class="text-left">Ignore me</th>
													<th class="text-left">Charge</th>
													<th class="text-left">Amount</th>
													<th class="text-left">Notify the tenant with</th>
													<th class="text-left"></th>
												</tr>
											</thead>
											<tbody class="text-left"></tbody>
										</table>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div id="navpills-3" class="tab-pane">
						<div class="card">
							{% comment %} <div class="card-header">
								<h4 class="card-title">Features</h4>
							</div> {% endcomment %}
							<div class="card-body mx-4">
								<div class="table-responsive recentOrderTable">
									{% comment %} <div class="row mb-2">
										<div class="d-flex justify-content-between mb-5">
											<button
												class="btn btn-primary justify-content-end px-5 py-2 mr-sm-4 text-white add_features_button"
												type="button">
												<span>Click to add</span>
											</button>
										</div>
									</div> {% endcomment %}

									<div class="row mb-4 mx-3  d-flex justify-content-end">
										<button class="btn btn-primary  py-2 px-5 btn-rounded add_features_button"
											type="button"><span>Click to
												add</span></button>
									</div>


									<div class="table-responsive" style="cursor: pointer">
										<table id="edit_features_table"
											class="table display responsive table-heading dataTable"
											data-turbolinks="false"
											style="width: 100%;min-height: 200px;bacskground: #f3f3f3;">
											<thead styled="background-color:white;">
												<tr>
													<th class="text-left">Name</th>

													<th class="text-left"></th>
												</tr>
											</thead>
											<tbody class="text-left" style="background-color: #f3f3f3;"></tbody>
										</table>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div id="navpills-4" class="tab-pane">
						<div class="card">
							{% comment %} <div class="card-header">
								<h4 class="card-title">Photos</h4>
							</div> {% endcomment %}
							<div class="card-body mx-4">
								<div class="table-responsive recentOrderTable">
									{% comment %} <div class="row mb-2">
										<div class="d-flex justify-content-between mb-3">
											<button
												class="btn btn-primary justify-content-end px-5 py-2 mr-sm-4 text-white add_photos_button"
												type="button">
												<span>Click to add</span>
											</button>
										</div>
									</div> {% endcomment %}
									<div class="row mb-4 mx-3  d-flex justify-content-end">
										<button class="btn btn-primary  py-2 px-5 btn-rounded add_photos_button"
											type="button"><span>Click to
												add</span></button>
									</div>

									<div class="table-responsive" style="cursor: pointer">
										<table id="edit_photos_table"
											class="table display responsive table-heading dataTable"
											style="width: 100%;min-height: 200px;">
											<thead>
												<tr>
													<th class="text-left">Image</th>
													<th class="text-left">Name</th>
													<th class="text-left"></th>
												</tr>
											</thead>
											<tbody class="text-left"></tbody>
										</table>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div id="navpills-5" class="tab-pane">
						<div class="card">
							{% comment %} <div class="card-header">
								<h4 class="card-title">Maintenance issues</h4>
							</div> {% endcomment %}
							<div class="card-body">
								<div class="table-responsive recentOrderTable">
									<div class="table-responsive" id="individualTable2" style="cursor: pointer">
										{% if maintenance %}
										<table id="guarantor_table" class="table table-lightborder display responsive"
											width="100%">
											<thead>
												<tr>
													<th class="text-left">#</th>
													<th class="text-left">Maintenace</th>
													<th class="text-left">Reported</th>
													<th class="text-left">Status</th>
													<th class="text-left">Priority</th>
													<th class="text-left"></th>
												</tr>
											</thead>
											<tbody class="text-left">

												{% for row in maintenance %}
												<tr>
													<td>
														<strong class="text-primary"> {{ forloop.counter }}.</strong>
													</td>
													<td>
														<strong>{{row.name}}</strong>
													</td>
													<td>
														{{row.reported_on|timesince}} ago
													</td>
													<td>
														{{row.status}}
													</td>
													<td>
														{{row.priority}}
													</td>
													<td>

														<a href="{% url 'maintenance:details' row.id %}"
															class="btn-primary px-5 py-1 btn-rounded border">Open</a>
													</td>
												</tr>
												{% endfor %}

											</tbody>
										</table>
										{% else %}
										<div class="m-3 my-3 text-center">No Maintenace issue has been created for this
											unit
										</div>
										{% endif %}
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

{% block scripts %} {% include 'partials/_select_options.html' %} {% include 'partials/_date.html' %}
<script>
	$(document).ready(function () {
		var unit_charges = {{charges_list}};
		var unit_features = {{features_list}};
		var unit_photos = {{photos_list}};

		var create_nos = 1;
		var unit_property = {{unit.unit_property.id}};


		edit_charges_table(unit_charges);
		edit_features_table(unit_features);
		edit_photos_table(unit_photos);

		$('#unit_create_numbers').val(create_nos);
		$('#unit_create_numbers_features').val(create_nos);
		$('#unit_create_numbers_photos').val(create_nos);

		$('#id_list').val(unit_charges);
		$('#id_list_feature').val(unit_features);
		$('#id_list_photo').val(unit_photos);

		$('#property_create_number').val(unit_property);
		$('#property_create_number_features').val(unit_property);
		$('#property_create_number_photos').val(unit_property);

		// var maintenance={{unit.id}}
		/// cost_function(maintenance);
		//  attachment_function(maintenance);
		//   select_option.unit_maintenance('#unit_maintenance');
	});

	var ids = [];


	function update_page() {
		//$('.onboarding-modal .onboarding-slider-w').slick('slickGoTo', 0);
		var the_id = {{unit.id}};
		$.ajax({
			url: "{% url 'property:units-rud' id=123456 %}".replace(/123456/, the_id).toString(),
			method: "GET",
			dataType: "json",
			success: function (data) {
				$('.unit_name_title').val(data.unit_name);
				$('#unit_name_id').val(data.unit_name);
				$('#charges_right_now').val('unit');
				$('#features_right_now').val('unit');
				$('#photos_right_now').val('unit');
				$('#unit_category_id').val(data.unit_category);
				$('#unit_type_id').val(data.unit_type);
				$('#size_id').val(data.size);
				$('#is_furnished_id').val(data.is_furnished);
				$('#baths_id').val(data.baths);
				$('#description_id').val(data.description);
			}
		})
	}
	$(document).on('submit', '#edit_unit_form', function (event) {
		var action_type = $('#action_type').val();
		var method = 'PUT';
		var url = "{% url 'property:update-units' %}";
		var form_data = new FormData(this);
		event.preventDefault();
		$.ajax({
			method: method,
			url: url,
			data: form_data,
			contentType: false,
			processData: false,
			dataType: "json",
			beforeSend: function () {
				$('#submit_edit_details').attr('disabled', 'disabled');
				$("#submit_edit_details").html("Please wait");
			},
			success: function (data) {
				$('#submit_edit_details').attr('disabled', false);
				$("#submit_edit_details").html("Click to confirm");
				if (data.success) {
					$(".fcp-group-contents").addClass('d-none');
					$(".create_units_record").removeClass('d-none');
					$(".third-floated-btn").removeClass('d-none');
					$('#success_text').text(data.success);
					$('#success_alert').modal('show');
					//$('.onboarding-modal .onboarding-slider-w').slick('slickGoTo', 0);
					update_page();



					$('#edit_unit_modal').modal('hide');

				}
				if (data.error) {
					$('#oops_text').text(data.error);
					$('#oops_alert').modal('show');
				}
			},
			error: function (jqXhr) {
				$('#submit_edit_details').attr('disabled', false);
				$("#submit_edit_details").html("Click to confirm");
				$('#oops_text').text("Something must have gone wrong.");
				$('#oops_alert').modal('show');
				$('#edit_unit_modal').modal('hide');
			}
		});
	});



	$(document).on('click', '.edit_units_button', function () {
		//$('.onboarding-modal .onboarding-slider-w').slick('slickGoTo', 0);
		var the_id = $(this).attr("id");

		$.ajax({
			url: "{% url 'property:units-rud' id=123456 %}".replace(/123456/, the_id).toString(),
			method: "GET",
			dataType: "json",
			success: function (data) {
				$('#details_based_unit_list').val(data.create_nos);


				$('.details_based_id').val(data.unit_property);

				$('#unit_name').val(data.unit_name);
				$('#charges_right_now').val('unit');
				$('#features_right_now').val('unit');
				$('#photos_right_now').val('unit');
				$('#unit_name').val(data.unit_name);
				$('#unit_type').val(data.unit_type).change();
				$('#unit_category').val(data.unit_category).change();
				$('#size').val(data.size);
				$('#is_furnished').val(data.is_furnished);
				$('#baths').val(data.baths).change();
				$('#description').val(data.description);

				$(".edit_form_title").text("About " + data.unit_name);
				$('#edit_unit_modal').modal('show');


			}
		})
	});
	$(document).on('click', '.delete_units_button', function () {
		var data = $(this).attr("id");
		var data_split = data.split(",");
		var unit_name = data_split[0];
		var id = data_split[1];
		$('#confirm_title').text("Just confirming...");
		$('#confirm_text').text("Confirming the delete of " + unit_name + " as a unit");
		$('#confirm_extra').text("Do you really want to delete " + unit_name + "?");
		$('#confirm_button').text("Confirm delete");
		$('#confirm_alert').modal('show');
		$('#confirmYes').one('click', function () {
			$.ajax({
				url: "{% url 'property:units-rud' id=12345 %}".replace(/12345/, id).toString(),
				method: "DELETE",
				dataType: "json",
				success: function (data) {

					$('#success_text').text("Unit removed.");
					$('#confirm_alert').modal('hide');
					$('#success_alert').modal('show');
				}
			});

		});
		$("#confirmNo").click(function () {
			$('#confirm_alert').modal('hide');
		});

	});


	//----------------------------------------------------------------------------------------------------

	$('#edit_charges_table').css('min-height', '200px');
	$('#edit_charges_table').css('wdith', '100%');

	function edit_charges_table(id_list) {
		url_data = '{% url "finance:charges-listcreate" %}';
		data_table = JSON.stringify(id_list);
		$('#edit_charges_table').DataTable({
			//processing: true,
			//serverSide: true,

			"destroy": true,
			"bAutoWidth": false,
			"bFilter": false,
			"bPaginate": false,
			"bFilter": false,
			"bInfo": false,
			"oLanguage": {
				"sEmptyTable": "No charges added"
			},
			"ajax": {
				"url": url_data,
				"data": {
					"data_table": JSON.stringify(id_list),

				}
			},
			"order": [
				[0, 'asc']
			],
			"columnDefs": [{
				"visible": false,
				"targets": 0,
			}, ],
			"rowGroup": {
				"dataSrc": 0
			},
			"bPaginate": false,
			"pageLength": 10,
			"fnDrawCallback": function () {
				//console.log(this.fnSettings().json.total_sum);

				$('.total_charges').text(this.fnSettings().fnRecordsTotal());
			}
		});
		jQuery('#people_table').wrap('<div class="dataTables_scroll" />');

	}

	$(document).on('change', '#edit_payments_category', function () {
		$('#edit_payments_amount').val("");
		category = $(this).val();
		edit_changed_category(category);
	})
	$(document).on('submit', '#edit_charges_form', function (event) {
		var action_type = $('#charge_action_type').val()
		if (action_type == 'add') {
			var method = 'POST';
			var url = '{% url "finance:charges-listcreate" %}';
		}
		if (action_type == 'edit') {
			var id = $('#edit_payments_id').val();
			var method = 'PUT';
			var url = "{% url 'finance:charges-rud' id=12345 %}".replace(/12345/, id).toString();
		}
		var form_data = new FormData(this);
		event.preventDefault();
		$.ajax({
			method: method,
			url: url,
			data: form_data,
			contentType: false,
			processData: false,
			dataType: "json",
			beforeSend: function () {
				$('#submit_edit_charge').attr('disabled', 'disabled');
				$("#submit_edit_charge").html("Please wait");
			},
			success: function (data) {
				$('#submit_edit_charge').attr('disabled', false);
				$("#submit_edit_charge").html("Upload records");
				if (data.success) {

					edit_charges_table(data.id_list);

					$("#id_list").val(data.id_list);
					$(".add_payment_button").addClass("d-none");
					$('.update_payment_button').removeClass("d-none");
					$('#edit_charges_modal').modal('hide');
					$('#success_text').text(data.success);
					$('#success_alert').modal('show');
					// $('.onboarding-modal .edit_the_charges').slick('slickGoTo', 0);
					$('.onboarding-modal .onboarding-slider-w').slick('setPosition');
				}
				if (data.error) {
					$('#oops_text').text(data.error);
					$('#oops_alert').modal('show');
				}
			},
			error: function (jqXhr) {
				$('#submit_edit_charge').attr('disabled', false);
				$("#submit_edit_charge").html("Upload records");
				$('#oops_text').text("Something went wrong, try again later");
				$('#oops_alert').modal('show');
				$('#edit_charges_modal').modal('hide');
			}

		});
	});
	$(document).on('click', '.add_charges_button', function () {
		$('#edit_charges_modal').modal('show');
		$(".display_").addClass("d-none");
		$(".display_month").removeClass("d-none");
		$("#edit_payments_duration").val("monthly").change();
		$("#edit_payments_communication").val("none").change();
		$("#edit_payments_amount").val("");
		$("#edit_payments_month").val("");
		$(".invoice_for").addClass("d-none");
		$('#charge_action_type').val("add");
	});
	$(document).on('click', '.edit_charges_button', function () {
		//$('.onboarding-modal .edit_the_charges').slick('slickGoTo', 0);
		var charge_id = $(this).attr("id");
		$('input.form-control').val("");
		$('input.textarea').val("");
		$.ajax({
			url: "{% url 'finance:charges-rud' id=12345 %}".replace(/12345/, charge_id).toString(),
			method: "GET",
			dataType: "json",
			success: function (data) {
				$(".invoice_for").removeClass("d-none");
				if (data.created_at == $('#charges_right_now').val()) {
					$('#charge_update_add').val('update');
				} else {
					$('#charge_update_add').val('add');

				}

				$('#edit_payments_id').val(data.id);
				$('#edit_payments_name').val(data.name);
				$("#edit_payments_communication").val(data.notify);
				$("#edit_payments_amount").val(data.amount);
				$("#edit_payments_category").val(data.category).change();
				$("#edit_payments_once").val(data.once_date);
				$("#edit_payments_week").val(data.week_date);
				$("#edit_payments_month").val(data.month_date);
				$("#edit_payments_year").val(data.year_date);

				var category = data.category;

				if (category != "custom") {
					$(".charge_name").addClass("d-none");
				}
				if (category != "custom") {
					$(".charge_name").addClass("d-none");
				}
				$("#edit_payments_duration").val(data.duration).change();
				$('#charge_action_type').val("edit");
				$('.general_charges_title').text(data.name + " in this property");
				$('.general_charges_desc').text("");
				edit_changed_category(data.category);
				$('#edit_charges_modal').modal('show');
			}
		})
	});
	$(document).on('click', '.delete_charges_button', function () {
		var data = $(this).attr("id");
		var data_split = data.split(",");
		var name = data_split[0];
		var id = data_split[1];
		var created_at = data_split[2];
		var charges_right_now = $("#charges_right_now").val();
		if (created_at == charges_right_now) {
			var action = "update";
		} else {
			var action = "add";
		}
		$('#confirm_title').text("Just confirming...");
		$('#confirm_text').text("Confirming the delete of " + name + ".");
		$('#confirm_extra').text("Do you really want to delete " + name + "?");
		$('#confirm_button').text("Confirm delete");
		$('#confirm_alert').modal('show');
		$('#confirmYes').one('click', function () {
			$.ajax({
				url: "{% url 'finance:charges-rud' id=12345 %}".replace(/12345/, id).toString(),
				method: "DELETE",
				dataType: "json",
				data: {
					unit_create_numbers: $("#unit_create_numbers").val(),
					property_create_number: $("#property_create_number").val(),
					action: action,
					id_list: $("#id_list").val(),
					charge_id: id,
				},
				success: function (data) {
					edit_charges_table(data.id_list);
					$("#id_list").val(data.id_list);
					$('#success_text').text("Charge removed.");
					$('#confirm_alert').modal('hide');
					$('#success_alert').modal('show');
				}
			});

		});
		$("#confirmNo").click(function () {
			$('#confirm_alert').modal('hide');
		});

	});
	$(document).on('change', '#edit_payments_duration', function () {
		var duration = $(this).val();
		if (duration == "lease") {
			$(".display_").addClass("d-none");
		}
		if (duration == "once") {
			$(".display_").addClass("d-none");
			$(".display_date").removeClass("d-none");
		}
		if (duration == "weekly") {
			$(".display_").addClass("d-none");
			$(".display_week").removeClass("d-none");
		}
		if (duration == "monthly") {
			$(".display_").addClass("d-none");
			$(".display_month").removeClass("d-none");
		}
		if (duration == "annually") {
			$(".display_").addClass("d-none");
			$(".display_year").removeClass("d-none");
		}
	});

	function edit_changed_category(category) {
		if (category == "custom") {
			$(".charge_name").removeClass("d-none ");
			$(".amount_description").text("How much do you charge?");
			$("#edit_payments_amount").attr("placeholder", "Example: 15000");
		}
		if (category != "custom") {
			$(".charge_name").addClass("d-none");
			if (category == "water22") {
				$(".amount_description").text("What is the rate per unit?");
				$("#edit_payments_amount").attr("placeholder", "Example: 2.4");
			} else {
				$(".amount_description").text("How much do you charge?");
				$("#edit_payments_amount").attr("placeholder", "Example: 15000");
			}
		}
		$('.onboarding-modal .onboarding-slider-w').slick('setPosition');
	}



	$('#edit_features_table').css('min-height', '200px');
	$('#edit_features_table').css('wdith', '100%');

	function edit_features_table(id_list) {
		url_data = '{% url "property:features-listcreate" %}';
		data_table = JSON.stringify(id_list);
		$('#edit_features_table').DataTable({

			"destroy": true,
			"bAutoWidth": false,
			"bFilter": false,
			"bPaginate": false,
			"bFilter": false,
			"bInfo": false,
			"oLanguage": {
				"sEmptyTable": "No feature added"
			},
			"ajax": {
				"url": url_data,
				"data": {
					"data_table": JSON.stringify(id_list),

				}
			},

			"bPaginate": false,
			"pageLength": 10,
			"fnDrawCallback": function () {
				//console.log(this.fnSettings().json.total_sum);

				$('.total_features').text(this.fnSettings().fnRecordsTotal());
			}
		});
		jQuery('#edit_features_table').wrap('<div class="dataTables_scroll" />');

	}


	$(document).on('submit', '#edit_features_form', function (event) {
		var action_type = $('#feature_action_type').val()
		if (action_type == 'add') {
			var method = 'POST';
			var url = '{% url "property:features-listcreate" %}';
		}
		if (action_type == 'edit') {
			var id = $('#edit_features_id').val();
			var method = 'PUT';
			var url = "{% url 'property:features-rud' id=12345 %}".replace(/12345/, id).toString();
		}
		var form_data = new FormData(this);
		event.preventDefault();
		$.ajax({
			method: method,
			url: url,
			data: form_data,
			contentType: false,
			processData: false,
			dataType: "json",
			beforeSend: function () {
				$('#submit_edit_feature').attr('disabled', 'disabled');
				$("#submit_edit_feature").html("Please wait");
			},
			success: function (data) {
				$('#submit_edit_feature').attr('disabled', false);
				$("#submit_edit_feature").html("Upload records");
				if (data.success) {

					edit_features_table(data.id_list);

					$("#id_list_feature").val(data.id_list);

					$('#edit_features_modal').modal('hide');
					$('#success_text').text(data.success);
					$('#success_alert').modal('show');
					// $('.onboarding-modal .edit_the_features').slick('slickGoTo', 0);
					$('.onboarding-modal .onboarding-slider-w').slick('setPosition');
				}
				if (data.error) {
					$('#oops_text').text(data.error);
					$('#oops_alert').modal('show');
				}
			},
			error: function (jqXhr) {
				$('#submit_edit_feature').attr('disabled', false);
				$("#submit_edit_feature").html("Upload records");
				$('#oops_text').text("Something went wrong, try again later");
				$('#oops_alert').modal('show');
				$('#edit_features_modal').modal('hide');
			}

		});
	});
	$(document).on('click', '.add_features_button', function () {
		$('#edit_feature_name').val("");
		$('#edit_features_modal').modal('show');
		$('#feature_action_type').val("add");
	});
	$(document).on('click', '.edit_features_button', function () {
		//$('.onboarding-modal .edit_the_features').slick('slickGoTo', 0);
		var feature_id = $(this).attr("id");
		$('input.form-control').val("");
		$('input.textarea').val("");
		$.ajax({
			url: "{% url 'property:features-rud' id=12345 %}".replace(/12345/, feature_id).toString(),
			method: "GET",
			dataType: "json",
			success: function (data) {
				$(".invoice_for").removeClass("d-none");
				if (data.created_at == $('#features_right_now').val()) {
					$('#feature_update_add').val('update');
				} else {
					$('#feature_update_add').val('add');

				}

				$('#edit_features_id').val(data.id);
				$('#edit_feature_name').val(data.name);


				var category = data.category;

				if (category != "custom") {
					$(".feature_name").addClass("d-none");
				}
				if (category != "custom") {
					$(".feature_name").addClass("d-none");
				}
				$("#edit_payments_duration").val(data.duration).change();
				$('#feature_action_type').val("edit");
				$('.general_features_title').text(data.name + " in this property");
				$('.general_features_desc').text("");
				edit_changed_category(data.category);
				$('#edit_features_modal').modal('show');
			}
		})
	});
	$(document).on('click', '.delete_features_button', function () {
		var data = $(this).attr("id");
		var data_split = data.split(",");
		var name = data_split[0];
		var id = data_split[1];
		var created_at = data_split[2];
		var features_right_now = $("#features_right_now").val();
		if (created_at == features_right_now) {
			var action = "update";
		} else {
			var action = "add";
		}
		$('#confirm_title').text("Just confirming...");
		$('#confirm_text').text("Confirming the delete of " + name + ".");
		$('#confirm_extra').text("Do you really want to delete " + name + "?");
		$('#confirm_button').text("Confirm delete");
		$('#confirm_alert').modal('show');
		$('#confirmYes').one('click', function () {
			$.ajax({
				url: "{% url 'property:features-rud' id=12345 %}".replace(/12345/, id).toString(),
				method: "DELETE",
				dataType: "json",
				data: {
					unit_create_numbers: $("#unit_create_numbers_features").val(),
					property_create_number: $("#property_create_number_features").val(),
					action: action,
					id_list: $("#id_list_feature").val(),
					feature_id: id,
				},
				success: function (data) {
					edit_features_table(data.id_list);
					$("#id_list_feature").val(data.id_list);

					$('#success_text').text("Charge removed.");
					$('#confirm_alert').modal('hide');
					$('#success_alert').modal('show');
				}
			});

		});
		$("#confirmNo").click(function () {
			$('#confirm_alert').modal('hide');
		});

	});



	$('#edit_photos_table').css('min-height', '200px');
	$('#edit_photos_table').css('wdith', '100%');

	function edit_photos_table(id_list) {
		url_data = '{% url "property:photos-listcreate" %}';
		data_table = JSON.stringify(id_list);
		$('#edit_photos_table').DataTable({
			//processing: true,
			//serverSide: true,
			"destroy": true,
			"bAutoWidth": false,
			"bFilter": false,
			"bPaginate": false,
			"bFilter": false,
			"bInfo": false,
			"oLanguage": {
				"sEmptyTable": "No photo added"
			},
			"ajax": {
				"url": url_data,
				"data": {
					"data_table": JSON.stringify(id_list),

				}
			},

			"bPaginate": false,
			"pageLength": 10,
			"fnDrawCallback": function () {
				//console.log(this.fnSettings().json.total_sum);
				$('.total_photos').text(this.fnSettings().fnRecordsTotal());
			}
		});
		jQuery('#edit_photos_table').wrap('<div class="dataTables_scroll" />');

	}


	$(document).on('submit', '#edit_photos_form', function (event) {
		var action_type = $('#photo_action_type').val()
		if (action_type == 'add') {
			var method = 'POST';
			var url = '{% url "property:photos-listcreate" %}';
		}
		if (action_type == 'edit') {
			var id = $('#edit_photos_id').val();
			var method = 'PUT';
			var url = "{% url 'property:photos-rud' id=12345 %}".replace(/12345/, id).toString();
		}
		var form_data = new FormData(this);
		event.preventDefault();
		$.ajax({
			method: method,
			url: url,
			data: form_data,
			contentType: false,
			processData: false,
			dataType: "json",
			beforeSend: function () {
				$('#submit_edit_photo').attr('disabled', 'disabled');
				$("#submit_edit_photo").html("Please wait");
			},
			success: function (data) {
				$('#submit_edit_photo').attr('disabled', false);
				$("#submit_edit_photo").html("Upload records");
				if (data.success) {

					edit_photos_table(data.id_list);

					$("#id_list_photo").val(data.id_list);

					$('#edit_photos_modal').modal('hide');
					$('#success_text').text(data.success);
					$('#success_alert').modal('show');
					// $('.onboarding-modal .edit_the_photos').slick('slickGoTo', 0);
					$('.onboarding-modal .onboarding-slider-w').slick('setPosition');
				}
				if (data.error) {
					$('#oops_text').text(data.error);
					$('#oops_alert').modal('show');
				}
			},
			error: function (jqXhr) {
				$('#submit_edit_photo').attr('disabled', false);
				$("#submit_edit_photo").html("Upload records");
				$('#oops_text').text("Something went wrong, try again later");
				$('#oops_alert').modal('show');
				$('#edit_photos_modal').modal('hide');
			}

		});
	});
	$(document).on('click', '.add_photos_button', function () {
		$('#edit_photo_name').val("");
		$("#photo").val(null);
		$('#edit_photos_modal').modal('show');
		$('#photo_action_type').val("add");
	});
	$(document).on('click', '.edit_photos_button', function () {
		//$('.onboarding-modal .edit_the_photos').slick('slickGoTo', 0);
		var photo_id = $(this).attr("id");
		$('input.form-control').val("");
		$('input.textarea').val("");
		$.ajax({
			url: "{% url 'property:photos-rud' id=12345 %}".replace(/12345/, photo_id).toString(),
			method: "GET",
			dataType: "json",
			success: function (data) {
				$(".invoice_for").removeClass("d-none");
				if (data.created_at == $('#photos_right_now').val()) {
					$('#photo_update_add').val('update');
				} else {
					$('#photo_update_add').val('add');

				}

				$('#edit_photos_id').val(data.id);
				$('#edit_photo_name').val(data.name);


				var category = data.category;

				if (category != "custom") {
					$(".photo_name").addClass("d-none");
				}
				if (category != "custom") {
					$(".photo_name").addClass("d-none");
				}
				$("#edit_payments_duration").val(data.duration).change();
				$('#photo_action_type').val("edit");
				$('.general_photos_title').text(data.name + " in this property");
				$('.general_photos_desc').text("");
				edit_changed_category(data.category);
				$('#edit_photos_modal').modal('show');
			}
		})
	});
	$(document).on('click', '.delete_photos_button', function () {
		var data = $(this).attr("id");
		var data_split = data.split(",");
		var name = data_split[0];
		var id = data_split[1];
		var created_at = data_split[2];
		var photos_right_now = $("#photos_right_now").val();
		if (created_at == photos_right_now) {
			var action = "update";
		} else {
			var action = "add";
		}
		$('#confirm_title').text("Just confirming...");
		$('#confirm_text').text("Confirming the delete of " + name + ".");
		$('#confirm_extra').text("Do you really want to delete " + name + "?");
		$('#confirm_button').text("Confirm delete");
		$('#confirm_alert').modal('show');
		$('#confirmYes').one('click', function () {
			$.ajax({
				url: "{% url 'property:photos-rud' id=12345 %}".replace(/12345/, id).toString(),
				method: "DELETE",
				dataType: "json",
				data: {
					unit_create_numbers: $("#unit_create_numbers_photos").val(),
					property_create_number: $("#property_create_number_photos").val(),
					action: action,
					id_list: $("#id_list_photo").val(),
					photo_id: id,
				},
				success: function (data) {
					edit_photos_table(data.id_list);
					$("#id_list_photo").val(data.id_list);
					$('#success_text').text("Photo removed.");
					$('#confirm_alert').modal('hide');
					$('#success_alert').modal('show');
				}
			});

		});
		$("#confirmNo").click(function () {
			$('#confirm_alert').modal('hide');
		});

	});
	// end costs---------------------------------------------------- 
</script>
{% endblock scripts %} {% endblock content %}